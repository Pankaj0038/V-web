<!DOCTYPE html>
<html>
<head>
	<title>otp</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="./css/otp.css">
</head>
<body>
	<script type="text/javascript">
    const postdata = () => {
        let data = document.getElementById('data').value;
        let uname = document.getElementById('uname').innerHTML;
        const body = JSON.stringify({ otp: data, uname: uname });

        fetch('/otp', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Cookie': document.cookie
            },
            body: body // Sending OTP data in JSON format
        })
        .then(response => response.json())
        .then(dat => {
            console.log('Success:', dat);
            // Handle response data as needed
        })
        .catch(err => {
            console.error('Error:', err);
            // Handle errors
        });
    }
</script>

	<nav>
	    <a href="/"><h1>2FA</h1></a>
	    <a href="/">Home</a>
	</nav>
	<main>
		<div>
			An OTP is send to the user: <b id="uname">{{data.username}}</b>
		</div>
	    <form onsubmit="event.preventDefault(); postdata();">
	        <label for="otp">
	            One Time Password (OTP)
	        </label>
	        <input type="text" id="data" name="otp" placeholder="Enter OTP">
	        <button type="submit">Submit</button>
	    </form>
	</main>

	<footer>
		Made by @Gumn4m1
	</footer>
</body>
</html>